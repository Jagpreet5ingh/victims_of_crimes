URL for chat history : https://chat.openai.com/share/cb3d85a6-7bda-4ee9-a5b7-eec890e257d1

REPORT_YEAR	CATEGORY	SUBTYPE	ASSAULT_SUBTYPE	SEX	AGE_GROUP	AGE_COHORT	COUNT_
1	2014	Crimes Against the Person	Sexual Violation	N/A	M	Adult	18 to 24	23
2	2014	Crimes Against the Person	Sexual Violation	N/A	M	Adult	25 to 34	29
3	2014	Crimes Against the Person	Sexual Violation	N/A	M	Adult	35 to 44	9
4	2014	Crimes Against the Person	Sexual Violation	N/A	M	Adult	45 to 54	13
5	2014	Crimes Against the Person	Sexual Violation	N/A	M	Adult	55 to 64	7
6	2014	Crimes Against the Person	Sexual Violation	N/A	M	Adult	65+	2
7	2014	Crimes Against the Person	Sexual Violation	N/A	M	Child	<12	106
8	2014	Crimes Against the Person	Sexual Violation	N/A	M	Unknown	Unknown	4
9	2014	Crimes Against the Person	Sexual Violation	N/A	M	Youth	12 to 17	70
10	2015	Crimes Against the Person	Assault	Aggravated Peace Officer	F	Unknown	Unknown	1
11	2015	Crimes Against the Person	Assault	Assault Peace Officer	F	Adult	25 to 34	4
12	2015	Crimes Against the Person	Assault	Assault Peace Officer	F	Adult	35 to 44	7
13	2015	Crimes Against the Person	Assault	Assault Peace Officer	F	Adult	45 to 54	2
14	2015	Crimes Against the Person	Assault	Assault Peace Officer	F	Adult	65+	2
15	2015	Crimes Against the Person	Assault	Assault Peace Officer	F	Unknown	Unknown	74
16	2015	Crimes Against the Person	Assault	Assault Peace Officer	M	Adult	18 to 24	1
17	2015	Crimes Against the Person	Assault	Assault Peace Officer	M	Adult	25 to 34	26
18	2015	Crimes Against the Person	Assault	Assault Peace Officer	M	Adult	35 to 44	25
19	2015	Crimes Against the Person	Assault	Assault Peace Officer	M	Adult	45 to 54	10
20	2015	Crimes Against the Person	Assault	Assault Peace Officer	M	Adult	55 to 64	3
21	2015	Crimes Against the Person	Assault	Assault Peace Officer	M	Adult	65+	5
22	2015	Crimes Against the Person	Assault	Assault Peace Officer	M	Unknown	Unknown	325
23	2015	Crimes Against the Person	Assault	Assault Peace Officer	U	Unknown	Unknown	1
24	2015	Crimes Against the Person	Assault	Assault Peace Officer Weapon/Bodily Harm	F	Adult	25 to 34	1
25	2015	Crimes Against the Person	Assault	Assault Peace Officer Weapon/Bodily Harm	F	Unknown	Unknown	4
26	2015	Crimes Against the Person	Assault	Assault Peace Officer Weapon/Bodily Harm	M	Adult	18 to 24	1
27	2015	Crimes Against the Person	Assault	Assault Peace Officer Weapon/Bodily Harm	M	Adult	35 to 44	1
28	2015	Crimes Against the Person	Assault	Assault Peace Officer Weapon/Bodily Harm	M	Adult	45 to 54	2
29	2015	Crimes Against the Person	Assault	Assault Peace Officer Weapon/Bodily Harm	M	Adult	55 to 64	1
30	2015	Crimes Against the Person	Assault	Assault Peace Officer Weapon/Bodily Harm	M	Unknown	Unknown	21
31	2015	Crimes Against the Person	Assault	Assault Resist Arrest	F	Adult	18 to 24	10
32	2015	Crimes Against the Person	Assault	Assault Resist Arrest	F	Adult	25 to 34	16
33	2015	Crimes Against the Person	Assault	Assault Resist Arrest	F	Adult	35 to 44	4
34	2015	Crimes Against the Person	Assault	Assault Resist Arrest	F	Adult	45 to 54	3
35	2015	Crimes Against the Person	Assault	Assault Resist Arrest	F	Adult	55 to 64	2
36	2015	Crimes Against the Person	Assault	Assault Resist Arrest	F	Adult	65+	1
37	2015	Crimes Against the Person	Assault	Assault Resist Arrest	F	Unknown	Unknown	7
38	2015	Crimes Against the Person	Assault	Assault Resist Arrest	M	Adult	18 to 24	34
39	2015	Crimes Against the Person	Assault	Assault Resist Arrest	M	Adult	25 to 34	84
40	2015	Crimes Against the Person	Assault	Assault Resist Arrest	M	Adult	35 to 44	31
41	2015	Crimes Against the Person	Assault	Assault Resist Arrest	M	Adult	45 to 54	19
42	2015	Crimes Against the Person	Assault	Assault Resist Arrest	M	Adult	55 to 64	3
43	2015	Crimes Against the Person	Assault	Assault Resist Arrest	M	Adult	65+	3
44	2015	Crimes Against the Person	Assault	Assault Resist Arrest	M	Unknown	Unknown	86
45	2015	Crimes Against the Person	Assault	Other	F	Adult	18 to 24	1458
46	2015	Crimes Against the Person	Assault	Other	F	Adult	25 to 34	2042
47	2015	Crimes Against the Person	Assault	Other	F	Adult	35 to 44	1270
48	2015	Crimes Against the Person	Assault	Other	F	Adult	45 to 54	975
49	2015	Crimes Against the Person	Assault	Other	F	Adult	55 to 64	438
50	2015	Crimes Against the Person	Assault	Other	F	Adult	65+	305
51	2015	Crimes Against the Person	Robbery	N/A	M	Child	<12	16
52	2015	Crimes Against the Person	Robbery	N/A	M	Unknown	Unknown	29
53	2015	Crimes Against the Person	Robbery	N/A	M	Youth	12 to 17	615
54	2015	Crimes Against the Person	Robbery	N/A	U	Adult	18 to 24	1
55	2015	Crimes Against the Person	Sexual Violation	N/A	F	Adult	18 to 24	473
56	2015	Crimes Against the Person	Sexual Violation	N/A	F	Adult	25 to 34	363
57	2015	Crimes Against the Person	Sexual Violation	N/A	F	Adult	35 to 44	180
58	2015	Crimes Against the Person	Sexual Violation	N/A	F	Adult	45 to 54	113
59	2015	Crimes Against the Person	Sexual Violation	N/A	F	Adult	55 to 64	35
60	2015	Crimes Against the Person	Sexual Violation	N/A	F	Adult	65+	33
61	2015	Crimes Against the Person	Sexual Violation	N/A	F	Child	<12	234
62	2015	Crimes Against the Person	Sexual Violation	N/A	F	Unknown	Unknown	22
63	2015	Crimes Against the Person	Sexual Violation	N/A	F	Youth	12 to 17	410
64	2015	Crimes Against the Person	Sexual Violation	N/A	M	Adult	18 to 24	41
65	2015	Crimes Against the Person	Sexual Violation	N/A	M	Adult	25 to 34	31
66	2015	Crimes Against the Person	Sexual Violation	N/A	M	Adult	35 to 44	15
67	2015	Crimes Against the Person	Sexual Violation	N/A	M	Adult	45 to 54	14
68	2015	Crimes Against the Person	Sexual Violation	N/A	M	Adult	55 to 64	4
69	2015	Crimes Against the Person	Sexual Violation	N/A	M	Adult	65+	9
70	2015	Crimes Against the Person	Sexual Violation	N/A	M	Child	<12	100
71	2015	Crimes Against the Person	Sexual Violation	N/A	M	Unknown	Unknown	22
72	2015	Crimes Against the Person	Sexual Violation	N/A	M	Youth	12 to 17	70
73	2016	Crimes Against the Person	Assault	Aggravated Peace Officer	M	Unknown	Unknown	1
74	2016	Crimes Against the Person	Assault	Assault Peace Officer	F	Adult	18 to 24	3
75	2016	Crimes Against the Person	Assault	Assault Peace Officer	F	Adult	25 to 34	14
76	2016	Crimes Against the Person	Assault	Assault Peace Officer	F	Adult	35 to 44	5
77	2016	Crimes Against the Person	Assault	Assault Peace Officer	F	Adult	45 to 54	6
78	2016	Crimes Against the Person	Assault	Assault Peace Officer	F	Unknown	Unknown	74
79	2016	Crimes Against the Person	Assault	Assault Peace Officer	M	Adult	18 to 24	3
80	2016	Crimes Against the Person	Assault	Assault Peace Officer	M	Adult	25 to 34	33
81	2016	Crimes Against the Person	Assault	Assault Peace Officer	M	Adult	35 to 44	26
82	2016	Crimes Against the Person	Assault	Assault Peace Officer	M	Adult	45 to 54	13
83	2016	Crimes Against the Person	Assault	Assault Peace Officer	M	Adult	55 to 64	5
84	2016	Crimes Against the Person	Assault	Assault Peace Officer	M	Adult	65+	1
85	2016	Crimes Against the Person	Assault	Assault Peace Officer	M	Unknown	Unknown	276
86	2016	Crimes Against the Person	Assault	Assault Peace Officer Weapon/Bodily Harm	F	Adult	35 to 44	2
87	2016	Crimes Against the Person	Assault	Assault Peace Officer Weapon/Bodily Harm	F	Adult	45 to 54	1
88	2016	Crimes Against the Person	Assault	Assault Peace Officer Weapon/Bodily Harm	F	Unknown	Unknown	13
89	2016	Crimes Against the Person	Assault	Assault Peace Officer Weapon/Bodily Harm	M	Adult	25 to 34	1
90	2016	Crimes Against the Person	Assault	Assault Peace Officer Weapon/Bodily Harm	M	Adult	45 to 54	5
91	2016	Crimes Against the Person	Assault	Assault Peace Officer Weapon/Bodily Harm	M	Unknown	Unknown	26
92	2016	Crimes Against the Person	Assault	Assault Resist Arrest	F	Adult	18 to 24	11
93	2016	Crimes Against the Person	Assault	Assault Resist Arrest	F	Adult	25 to 34	13
94	2016	Crimes Against the Person	Assault	Assault Resist Arrest	F	Adult	35 to 44	1
ChatGPT
It looks like you've provided a dataset containing information about crimes against the person, specifically focusing on assault and sexual violation, for the years 2014 to 2016. The dataset includes details such as the year, category, subtype, assault subtype, sex, age group, age cohort, and count of incidents.

Here's a summary of the data for the first few entries:

In 2014, there were sexual violation incidents involving adult males in different age groups, with counts ranging from 2 to 106. There were also incidents involving children and youth.

In 2015, assault incidents included various subtypes such as assault on peace officers, assault with resisting arrest, and other assaults. The counts vary across different age groups, sexes, and subtypes.

In 2015, there were robbery incidents involving males, both children and youth, with counts ranging from 16 to 615.

In 2015, sexual violation incidents involved females and males in different age groups, with counts ranging from 4 to 473.

In 2016, assault incidents included various subtypes, with counts varying across different age groups, sexes, and subtypes.

Please let me know if you have specific questions or if you'd like more detailed analysis or information about certain aspects of the dataset.

for this data, help create a GGplot in R. The bar graph should be report year vs the total count for each year
ChatGPT
Certainly! To create a bar graph using ggplot2 in R, you'll need to install the ggplot2 package if you haven't already. You can do this by running the following command in R:

R
Copy code
install.packages("ggplot2")
Once you have ggplot2 installed, you can use the following code to create a bar graph of the total count for each year:

R
Copy code
# Load the ggplot2 library
library(ggplot2)

# Your dataset (assuming it's stored in a variable called 'crime_data')
# Replace this with the actual variable name in your R environment
crime_data <- read.table(text = "
    REPORT_YEAR CATEGORY              SUBTYPE                          ASSAULT_SUBTYPE SEX   AGE_GROUP AGE_COHORT COUNT_
1   2014        'Crimes Against the Person' 'Sexual Violation'              'N/A'           'M' 'Adult'  '18 to 24'  23
2   2014        'Crimes Against the Person' 'Sexual Violation'              'N/A'           'M' 'Adult'  '25 to 34'  29
3   2014        'Crimes Against the Person' 'Sexual Violation'              'N/A'           'M' 'Adult'  '35 to 44'   9
4   2014        'Crimes Against the Person' 'Sexual Violation'              'N/A'           'M' 'Adult'  '45 to 54'  13
5   2014        'Crimes Against the Person' 'Sexual Violation'              'N/A'           'M' 'Adult'  '55 to 64'   7
6   2014        'Crimes Against the Person' 'Sexual Violation'              'N/A'           'M' 'Adult'  '65+'        2
7   2014        'Crimes Against the Person' 'Sexual Violation'              'N/A'           'M' 'Child'  '<12'      106
8   2014        'Crimes Against the Person' 'Sexual Violation'              'N/A'           'M' 'Unknown' 'Unknown'   4
9   2014        'Crimes Against the Person' 'Sexual Violation'              'N/A'           'M' 'Youth'  '12 to 17'  70
10  2015        'Crimes Against the Person' 'Assault'                        'Aggravated Peace Officer' 'F' 'Unknown' 'Unknown'   1
# ... (your data continues)
", header = TRUE)

# Sum the counts for each year
total_counts <- aggregate(COUNT_ ~ REPORT_YEAR, data = crime_data, sum)

# Create a bar graph using ggplot2
ggplot(total_counts, aes(x = as.factor(REPORT_YEAR), y = COUNT_)) +
  geom_bar(stat = "identity", fill = "blue", alpha = 0.7) +
  labs(title = "Total Counts of Crimes Against the Person (2014-2016)",
       x = "Report Year",
       y = "Total Count") +
  theme_minimal()
This code assumes that your dataset is named crime_data, and it uses the ggplot2 library to create a bar graph of the total counts for each year. Adjust the column names and data structure as needed based on your actual dataset.

update this code to match above library("tidyverse")
data <- read_csv("output/data/edited_data.csv",show_col_types = FALSE)
column_specifications <- spec(data)

crimes_by_year <- data |>
group_by(REPORT_YEAR)|>
  summarise(COUNT_=n())
crimes_by_year |>
  ggplot(aes(x= REPORT_YEAR, y=COUNT_))+
  geom_bar(stat="identity", fill = "grey")+
  geom_smooth(method = "lm", aes(group = 1), color = "red") +
  theme_minimal() + # Make the theme neater
  labs(x = "Year", y = "Number of Crimes against the person")
ChatGPT
Certainly! Below is the updated code using the tidyverse library. I have incorporated the read_csv function from tidyverse to read the CSV file, and the code follows the pipeline approach using the %>% operator for data manipulation:

R
Copy code
library("tidyverse")

# Read the CSV file
data <- read_csv("output/data/edited_data.csv", show_col_types = FALSE)

# Group by REPORT_YEAR and calculate the total count for each year
crimes_by_year <- data %>%
  group_by(REPORT_YEAR) %>%
  summarise(COUNT_ = n())

# Create a bar graph using ggplot2
crimes_by_year %>%
  ggplot(aes(x = REPORT_YEAR, y = COUNT_)) +
  geom_bar(stat = "identity", fill = "grey") +
  geom_smooth(method = "lm", aes(group = 1), color = "red") +
  theme_minimal() + # Make the theme neater
  labs(x = "Year", y = "Number of Crimes against the Person")
This code assumes that your dataset has a column named REPORT_YEAR and another column named COUNT_. Adjust the column names as needed based on your actual dataset structure. The geom_smooth function is used to add a trendline to the bar graph.

The y axis should show 0,5000,10000.......
ChatGPT
Certainly! You can specify breaks for the y-axis using the scale_y_continuous function to set breaks at regular intervals. Here's the modified code:

R
Copy code
library("tidyverse")

# Read the CSV file
data <- read_csv("output/data/edited_data.csv", show_col_types = FALSE)

# Group by REPORT_YEAR and calculate the total count for each year
crimes_by_year <- data %>%
  group_by(REPORT_YEAR) %>%
  summarise(COUNT_ = n())

# Create a bar graph using ggplot2
crimes_by_year %>%
  ggplot(aes(x = REPORT_YEAR, y = COUNT_)) +
  geom_bar(stat = "identity", fill = "grey") +
  geom_smooth(method = "lm", aes(group = 1), color = "red") +
  scale_y_continuous(breaks = seq(0, max(crimes_by_year$COUNT_), by = 5000)) + # Set y-axis breaks
  theme_minimal() +
  labs(x = "Year", y = "Number of Crimes against the Person")
This modification uses the scale_y_continuous function to set breaks on the y-axis at regular intervals specified by the seq function. Adjust the by parameter in seq based on your specific needs.

cant see the breaks
ChatGPT
I apologize for the confusion. It seems that the automatic y-axis breaks are not displaying as expected. You can explicitly set breaks using the breaks argument within scale_y_continuous. Here's an updated version of the code:

R
Copy code
library("tidyverse")

# Read the CSV file
data <- read_csv("output/data/edited_data.csv", show_col_types = FALSE)

# Group by REPORT_YEAR and calculate the total count for each year
crimes_by_year <- data %>%
  group_by(REPORT_YEAR) %>%
  summarise(COUNT_ = n())

# Define breaks for the y-axis
y_axis_breaks <- seq(0, max(crimes_by_year$COUNT_), by = 5000)

# Create a bar graph using ggplot2
crimes_by_year %>%
  ggplot(aes(x = REPORT_YEAR, y = COUNT_)) +
  geom_bar(stat = "identity", fill = "grey") +
  geom_smooth(method = "lm", aes(group = 1), color = "red") +
  scale_y_continuous(breaks = y_axis_breaks) + # Set y-axis breaks
  theme_minimal() +
  labs(x = "Year", y = "Number of Crimes against the Person")
This code explicitly sets the breaks for the y-axis using the y_axis_breaks variable. Adjust the by parameter in seq based on your specific needs. If you still encounter issues, please let me know, and I'll be happy to assist further.

```{r} 

library("tidyverse")
crime_data <- read_csv("output/data/edited_data.csv",show_col_types = FALSE) 
column_specifications <- spec(data)

total_counts <- aggregate(COUNT_ ~ REPORT_YEAR, data = crime_data, sum)  
# Create a bar graph using ggplot2 
ggplot(total_counts, aes(x = as.factor(REPORT_YEAR), y = COUNT_)) +   
  geom_bar(stat = "identity", fill = "blue", alpha = 0.7) +   
  labs(title = "Total Counts of Crimes Against the Person in an Year (2014-2022)",      
       x = "Crime Reported Year",        
       y = "Total Number of Crimes") +  
  scale_y_continuous(breaks = seq(0, max(crime_data$COUNT_), by = 5000)) + # Set y-axis breaks
  theme_minimal()


```
ChatGPT
It looks like you've provided R code to create a bar graph using ggplot2. I see that you are using the total_counts data frame, which is aggregated by summing the COUNT_ variable for each REPORT_YEAR. You've also added a title, axis labels, and adjusted the breaks on the y-axis.

A couple of things to note:

You read the CSV file into a data frame called crime_data, but then you use data in the spec function. I assume this is a typo, and you should use column_specifications <- spec(crime_data).

In the scale_y_continuous function, you used max(crime_data$COUNT_) for setting breaks. It's better to use max(total_counts$COUNT_) because you are creating a bar graph based on the aggregated data.

Here's the corrected code:

r
Copy code
library("tidyverse")

crime_data <- read_csv("output/data/edited_data.csv", show_col_types = FALSE) 
column_specifications <- spec(crime_data)

total_counts <- aggregate(COUNT_ ~ REPORT_YEAR, data = crime_data, sum)  

# Create a bar graph using ggplot2 
ggplot(total_counts, aes(x = as.factor(REPORT_YEAR), y = COUNT_)) +   
  geom_bar(stat = "identity", fill = "blue", alpha = 0.7) +   
  labs(title = "Total Counts of Crimes Against the Person in an Year (2014-2022)",      
       x = "Crime Reported Year",        
       y = "Total Number of Crimes") +  
  scale_y_continuous(breaks = seq(0, max(total_counts$COUNT_), by = 5000)) + # Set y-axis breaks
  theme_minimal()
This code should now work correctly with the aggregated data. If you encounter any issues or have further questions, feel free to ask!

add a treadline
ChatGPT
Certainly! You can add a trendline using the geom_smooth function in ggplot2. Here's the modified code with a trendline:

r
Copy code
library("tidyverse")

crime_data <- read_csv("output/data/edited_data.csv", show_col_types = FALSE) 
column_specifications <- spec(crime_data)

total_counts <- aggregate(COUNT_ ~ REPORT_YEAR, data = crime_data, sum)  

# Create a bar graph using ggplot2 with a trendline
ggplot(total_counts, aes(x = as.factor(REPORT_YEAR), y = COUNT_)) +   
  geom_bar(stat = "identity", fill = "blue", alpha = 0.7) +   
  geom_smooth(method = "lm", se = FALSE, color = "red", linetype = "dashed") +  # Add trendline
  labs(title = "Total Counts of Crimes Against the Person in an Year (2014-2022)",      
       x = "Crime Reported Year",        
       y = "Total Number of Crimes") +  
  scale_y_continuous(breaks = seq(0, max(total_counts$COUNT_), by = 5000)) + # Set y-axis breaks
  theme_minimal()
In this code, the geom_smooth function with method = "lm" adds a linear regression trendline to the plot. The se = FALSE argument removes the shaded confidence interval around the trendline. The color argument sets the color of the trendline, and linetype = "dashed" makes it dashed for better visibility. Adjust these parameters based on your preferences.

```{r} 

library("tidyverse")
crime_data <- read_csv("output/data/edited_data.csv",show_col_types = FALSE) 
column_specifications <- spec(crime_data)

total_counts <- aggregate(COUNT_ ~ REPORT_YEAR, data = crime_data, sum)  
# Create a bar graph using ggplot2 
ggplot(total_counts, aes(x = as.factor(REPORT_YEAR), y = COUNT_)) +   
  geom_bar(stat = "identity", fill = "blue", alpha = 0.7) + 
   geom_smooth(method = "lm", se = FALSE, color = "red", linetype = "dashed") +  # Add trendline
  labs(title = "Total Counts of Crimes Against the Person in an Year (2014-2022)",      
       x = "Crime Reported Year",        
       y = "Total Number of Crimes") +  
  scale_y_continuous(breaks = seq(0, max(total_counts$COUNT_), by = 2000)) + # Set y-axis breaks
  theme_minimal()


```
ChatGPT
Your R code appears correct, and it should generate a bar graph with a trendline for the total counts of crimes against the person over the years. The geom_bar function creates the bar plot based on the aggregated data, and the geom_smooth function adds a linear regression trendline to the plot.

Here's a brief explanation of the code:

library("tidyverse"): Loads the tidyverse package, which includes ggplot2 and other useful packages.
crime_data <- read_csv("output/data/edited_data.csv", show_col_types = FALSE): Reads the CSV file into a data frame called crime_data.
column_specifications <- spec(crime_data): This line seems unnecessary in the provided context, and you can remove it.
total_counts <- aggregate(COUNT_ ~ REPORT_YEAR, data = crime_data, sum): Aggregates the data to get the total counts for each year.
ggplot(total_counts, aes(x = as.factor(REPORT_YEAR), y = COUNT_)): Initializes a ggplot object with the specified data and aesthetics.
geom_bar(stat = "identity", fill = "blue", alpha = 0.7): Creates a bar plot with blue bars and an alpha value of 0.7 for transparency.
geom_smooth(method = "lm", se = FALSE, color = "red", linetype = "dashed"): Adds a linear regression trendline to the plot without a shaded confidence interval, with a red color and dashed line type.
labs(title = "Total Counts of Crimes Against the Person in an Year (2014-2022)", x = "Crime Reported Year", y = "Total Number of Crimes"): Sets the plot title and axis labels.
scale_y_continuous(breaks = seq(0, max(total_counts$COUNT_), by = 2000)): Sets y-axis breaks at regular intervals.
theme_minimal(): Applies a minimal theme to the plot.
If you encounter any issues or have specific questions, feel free to let me know!

treadline didnt appear
ChatGPT
I apologize for the oversight. The issue might be due to the fact that you are using a bar plot with categorical x-axis (years) and trying to add a linear regression trendline. The geom_smooth function might not be behaving as expected with this combination. If you want to visualize a trendline, a line plot might be more appropriate.

Here's a modified version of your code using geom_line for the trendline:

r
Copy code
library("tidyverse")

crime_data <- read_csv("output/data/edited_data.csv", show_col_types = FALSE)
column_specifications <- spec(crime_data)

total_counts <- aggregate(COUNT_ ~ REPORT_YEAR, data = crime_data, sum)

# Create a line plot for the trendline
ggplot(total_counts, aes(x = as.factor(REPORT_YEAR), y = COUNT_)) +   
  geom_bar(stat = "identity", fill = "blue", alpha = 0.7) +
  geom_line(aes(group = 1), stat = "smooth", method = "lm", se = FALSE, color = "red", linetype = "dashed") +  # Add trendline
  labs(title = "Total Counts of Crimes Against the Person in an Year (2014-2022)",      
       x = "Crime Reported Year",        
       y = "Total Number of Crimes") +  
  scale_y_continuous(breaks = seq(0, max(total_counts$COUNT_), by = 2000)) +  # Set y-axis breaks
  theme_minimal()
This code uses geom_line to add a trendline to the line plot. The aes(group = 1) is used to ensure the line is drawn for the entire dataset.

Please try this modification and let me know if it resolves the issue or if you have any further questions.